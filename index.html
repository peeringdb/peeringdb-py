<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="PeeringDB facilitates the exchange of information related to Peering.">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Home - PeeringDB</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> PeeringDB</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Home</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#peeringdb-python-client">PeeringDB Python Client</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#whats-included">What's included?</a></li>
        
            <li><a class="toctree-l3" href="#whats-new">What's new?</a></li>
        
            <li><a class="toctree-l3" href="#how-to-install">How to install</a></li>
        
            <li><a class="toctree-l3" href="#configuration">Configuration</a></li>
        
            <li><a class="toctree-l3" href="#authentication">Authentication</a></li>
        
            <li><a class="toctree-l3" href="#tips">Tips</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="cli/">CLI</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="api/">API</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">PeeringDB</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/peeringdb/peeringdb-py/edit/master/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="peeringdb-python-client">PeeringDB Python Client</h1>
<p>This is an early release of our client package, it's fairly new, but we're releasing early to get feedback as soon as possible.</p>
<p>This release represents a redesign and refactor of the Python client.</p>
<h2 id="whats-included">What's included?</h2>
<p>By installing the package, you get both a <a href="api/">client library</a> and a <a href="cli/">command line utility</a>.</p>
<h2 id="whats-new">What's new?</h2>
<p>The object-relational mapping backend is now configurable. Therefore, the dependency on <code>django_peeringdb</code> is now a soft dependency. However, it is currently the only available backend, so it will still need to be installed.</p>
<p>Submissions and requests for new backend modules are welcome.</p>
<h3 id="migrating-from-old-version">Migrating from old version</h3>
<p>Old databases should be compatible with this version of <code>peeringdb</code> as long as the version of the backend used is compatible. This version can be checked with <code>peeringdb.get_backend_info()[1]</code> after initializing the client.</p>
<h2 id="how-to-install">How to install</h2>
<p>For those unfamiliar with python, you'll usually want to install to a separate <a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtualenv</a>.</p>
<pre><code>virtualenv pdbvenv
. pdbvenv/bin/activate
</code></pre>
<p>Install the peeringdb package with</p>
<pre><code>pip install peeringdb
</code></pre>
<p>Install the Django backend with:</p>
<pre><code>pip install django_peeringdb
</code></pre>
<h2 id="configuration">Configuration</h2>
<p>Both command line and library will try to use a common config file, by default located at <code>~/.peeringdb/config.yaml</code></p>
<p>You can go through a setup wizard to configure and create the config (also downloads any needed requirements) with:</p>
<pre><code>peeringdb config set
</code></pre>
<p>To skip the wizard and write a config file with the defaults:</p>
<pre><code>peeringdb config set -n
</code></pre>
<p>Then edit the file it created (default <code>~/peeringdb/config.yaml</code>). Currently, since only Django is supported, any database backend Django supports will work, for example, to sync to MySQL, you could use the following database config:</p>
<pre><code>database:
  engine: mysql
  host: localhost
  name: peeringdb
  user: peeringdb
  password: supers3cr3t
</code></pre>
<p>If you provide authentication in your config file, it will include contacts much like version 1 did.</p>
<!-- After everything is configured, check your setup and install any new dependencies with: -->

<!--     peeringdb depcheck -->

<h2 id="authentication">Authentication</h2>
<p>To sync with peeringdb API servers, you need to provide authentication. Basic authentication is supported, but you can also use your API keys. To sync with PeeringDB, you can add the following config:</p>
<pre><code>sync:
    api_key: 'YOUR_API_KEY_HERE'
    user: 'username'
    password: 'password'
    only: []
    strip_tz: 1
    timeout: 0
    url: https://peeringdb.com/api
</code></pre>
<p>This will also be prompted during the configuration wizard.</p>
<p>Please take note that only one authentication method is supported, either basic or API key.</p>
<h2 id="tips">Tips</h2>
<h3 id="mysql">MySQL</h3>
<p>You need to use utf8 and a utf8 collation before doing the initial sync.</p>
<p>New database:</p>
<pre><code>CREATE DATABASE peeringdb DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
</code></pre>
<p>or existing database:</p>
<pre><code>ALTER DATABASE peeringdb DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;
</code></pre>
<h3 id="pip-and-setuputils">pip and setuputils</h3>
<p>If you are getting the error <code>'install_requires' must be a string or list of strings containing valid project/version requirement specifiers; Expected ',' or end-of-list in ipaddress&gt;=1; python_version&lt;'3.3' at ; python_version&lt;'3.3'</code>, update pip and setuptools.</p>
<pre><code class="sh">pip install -U pip
pip install -U setuptools
</code></pre>

<h3 id="ubuntu-debian">Ubuntu / Debian</h3>
<p>If you have issues building the mysqlclient install the dev libraries:</p>
<pre><code>sudo apt install libmysqlclient-dev
</code></pre>
<h3 id="sample-install-upgrade-steps">Sample Install &amp; Upgrade Steps</h3>
<p>Example install &amp; upgrade steps are <a href="https://lists.peeringdb.com/pipermail/pdb-tech/2022-September/000444.html">https://lists.peeringdb.com/pipermail/pdb-tech/2022-September/000444.html</a>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cli/" class="btn btn-neutral float-right" title="CLI">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/peeringdb/peeringdb-py/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="cli/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2022-09-19 18:37:20
-->
